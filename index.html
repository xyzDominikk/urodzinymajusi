<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ğŸ¬ Urodziny Majci</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont;}

body{
background:black;
color:white;
overflow:hidden;
animation:fadeIn 2s ease;
}

@keyframes fadeIn{
from{opacity:0;}
to{opacity:1;}
}

/* cinematic pasy */
body:before,body:after{
content:"";
position:fixed;
left:0;
width:100%;
height:7vh;
background:black;
z-index:1000;
}
body:before{top:0;}
body:after{bottom:0;}

.scene{
position:fixed;
width:100%;
height:100%;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
background:black;
opacity:0;
transform:scale(1.08) translateY(30px);
transition:1.3s cubic-bezier(.2,.8,.2,1);
}

.scene.active{
opacity:1;
transform:scale(1) translateY(0);
z-index:2;
}

.scene.active .content{
animation:drift 16s ease-in-out infinite alternate;
}

@keyframes drift{
0%{transform:translateY(-12px) scale(1);}
100%{transform:translateY(12px) scale(1.04);}
}

.content{
text-align:center;
padding:30px;
max-width:420px;
}

h1{font-size:30px;margin-bottom:15px;}
h2{font-weight:400;line-height:1.4;}

.timer{
font-size:34px;
margin-top:10px;
transition:.8s;
}

.timer.unlock{
transform:scale(1.6);
opacity:0;
filter:blur(10px);
}

canvas{
position:fixed;
top:0;
left:0;
z-index:0;
}

.cinematicText{
font-size:18px;
line-height:1.6;
opacity:.9;
filter:blur(6px);
transition:1s;
}

.cinematicText.show{
filter:blur(0);
}

.caret{
display:inline-block;
width:2px;
height:18px;
background:white;
margin-left:4px;
animation:blink 1s infinite;
}

@keyframes blink{
0%,50%,100%{opacity:1;}
25%,75%{opacity:0;}
}

.credits{
position:absolute;
bottom:-120%;
font-size:20px;
text-align:center;
opacity:.9;
}

.credits.start{
animation:credits 22s linear forwards;
}

@keyframes credits{
from{bottom:-120%;}
to{bottom:120%;}
}

.admin{
position:fixed;
top:10px;
right:10px;
background:red;
padding:8px;
display:none;
z-index:9999;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>
<div class="admin" id="admin">ADMIN â–¶</div>

<div class="scene active" id="scene0">
<div class="content">
<h1>ğŸ‚ Odliczanie</h1>
<div class="timer" id="timer"></div>
<p style="opacity:.6;margin-top:15px;">kliknij gdy wybije â¤ï¸</p>
</div>
</div>

<div class="scene" id="scene1"><div class="content"><h1>Zaczynamy...</h1></div></div>

<div class="scene" id="scene2"><div class="content"><h2>Znamy siÄ™ od 29.11.2025 â¤ï¸</h2></div></div>

<div class="scene" id="scene3"><div class="content"><h2>SpotkaliÅ›my siÄ™ 29.12.2025<br>(od tego dnia jestem najszczÄ™Å›liwszy)</h2></div></div>

<div class="scene" id="scene4"><div class="content"><h2>17.01.2026 â¤ï¸ zwiÄ…zek ğŸ’</h2></div></div>

<div class="scene" id="scene5"><div class="content"><h2>Zobaczymy co przyniesie przyszÅ‚oÅ›Ä‡â€¦</h2></div></div>

<div class="scene" id="scene6">
<div class="content">
<h1>ğŸ’Œ Wszystkiego najlepszego</h1>
<p id="letterText" class="cinematicText"></p>
</div>
</div>

<div class="scene" id="scene7">
<div class="credits" id="credits">
<p>ğŸ¬ Film Å¼ycia</p><br>
<p>ReÅ¼yseria: Dominik</p><br>
<p>GÅ‚Ã³wna rola: MajağŸ’•</p><br>
<p>DziÄ™kujÄ™ za wszystko...</p>
</div>
</div>

<script>

const birthday=new Date(2026,1,22,0,0,0);
let offset=0;

async function syncTime(){
try{
const r=await fetch("https://worldtimeapi.org/api/ip");
const d=await r.json();
offset=new Date(d.datetime)-new Date();
}catch{}
}

function updateTimer(){
const now=new Date(new Date().getTime()+offset);
const diff=birthday-now;
const t=document.getElementById("timer");

if(diff<=0){
t.innerText="ğŸ‰ GOTOWE";
t.classList.add("unlock");
return;
}

const d=Math.floor(diff/86400000);
const h=Math.floor(diff/3600000)%24;
const m=Math.floor(diff/60000)%60;
const s=Math.floor(diff/1000)%60;

t.innerText=`${d}d ${h}h ${m}m ${s}s`;
}

setInterval(updateTimer,1000);

let current=0;
const scenes=document.querySelectorAll(".scene");

function showScene(i){
if(i>=scenes.length)return;

scenes[current].classList.remove("active");
current=i;
scenes[current].classList.add("active");

if(navigator.vibrate)navigator.vibrate(40);

if(current===6){
setTimeout(startLetterWriting,800);
}

if(current===7){
document.getElementById("credits").classList.add("start");
}
}

function nextScene(){
showScene(current+1);
}

let startX=0;

document.addEventListener("touchstart",e=>{
startX=e.touches[0].clientX;
},{passive:true});

document.addEventListener("touchend",e=>{
let endX=e.changedTouches[0].clientX;
if(startX-endX>60)nextScene();
},{passive:true});

document.getElementById("scene0").onclick=()=>{
const now=new Date(new Date().getTime()+offset);
if(now>=birthday)setTimeout(nextScene,600);
};

if(!/Mobi|Android|iPhone/i.test(navigator.userAgent)){
document.getElementById("admin").style.display="block";
document.getElementById("admin").onclick=nextScene;
}

const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let stars=[];
for(let i=0;i<120;i++){
stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*1.5});
}

canvas.addEventListener("touchmove",e=>{
stars.push({x:e.touches[0].clientX,y:e.touches[0].clientY,r:2});
});

function drawStars(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
stars.forEach(s=>{
ctx.beginPath();
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fill();
});
requestAnimationFrame(drawStars);
}

drawStars();
syncTime().then(updateTimer);

/* TYPEWRITER */
const letterFullText="Wszystkiego najlepszego moja ksiÄ™Å¼niczko Å»yczÄ™ Ci wszystkiego co najlepsze i pamiÄ™taj, Å¼e jesteÅ› NAJLEPSZA i jedyna taka cudowna, i dziÄ™kujÄ™ Å¼e jesteÅ› â¤ï¸";
let letterIndex=0;
let writingStarted=false;

function startLetterWriting(){
if(writingStarted)return;
writingStarted=true;

const el=document.getElementById("letterText");
el.classList.add("show");

function write(){

if(letterIndex<letterFullText.length){

const char=letterFullText.charAt(letterIndex);
el.innerHTML+=char+'<span class="caret"></span>';
letterIndex++;

if(navigator.vibrate && letterIndex%5===0){
navigator.vibrate(8);
}

let delay=35;
if(char==="."||char==="!")delay=500;
if(char===",")delay=180;

setTimeout(()=>{
el.innerHTML=el.innerHTML.replace('<span class="caret"></span>','');
write();
},delay);

}

}

write();
}

</script>

</body>
</html>
