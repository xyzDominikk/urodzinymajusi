<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Urodziny Majci â¤ï¸</title>

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
background:black;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:white;
overflow:hidden;
}

.phone{
width:390px;
height:844px;
border-radius:40px;
overflow:hidden;
position:relative;
background:linear-gradient(180deg,#ff7eb3,#ff758c);
transition:0.6s;
}

.pulse{animation:pulse 2.5s ease-in-out infinite;}

@keyframes pulse{
0%{background:linear-gradient(180deg,#ff7eb3,#ff758c);}
50%{background:linear-gradient(180deg,#ff5e7e,#ff99cc);}
100%{background:linear-gradient(180deg,#ff7eb3,#ff758c);}
}

.center{text-align:center;margin-top:70px;padding:20px;}

button{
padding:14px 18px;
border:none;
border-radius:18px;
font-size:16px;
margin-top:15px;
background:white;
color:black;
}

button:disabled{opacity:0.5;}

.letter{
position:absolute;
bottom:-100%;
left:0;
right:0;
height:72%;
background:white;
color:black;
border-radius:30px 30px 0 0;
padding:20px;
transition:0.9s cubic-bezier(.2,.8,.2,1);
overflow:auto;
}

.letter.show{bottom:0;}

.gallery{display:none;margin-top:15px;}

.gallery img{
width:100px;
border-radius:16px;
margin:5px;
}

canvas{
position:absolute;
top:0;
left:0;
pointer-events:none;
}

#adminBox{
display:none;
position:absolute;
top:20px;
left:20px;
background:black;
padding:15px;
border-radius:12px;
z-index:999;
}
</style>
</head>

<body>

<div class="phone" id="phone">

<canvas id="confetti"></canvas>

<div class="center">
<h2>ğŸ‚ Urodziny juÅ¼ za:</h2>
<div id="countdown">Åadowanie...</div>

<button id="openBtn" disabled onclick="openLetter()">ğŸ”’ List zablokowany</button>

<div class="gallery" id="gallery">
<h3>ğŸ–¼ï¸ Wspomnienia</h3>
<img src="https://picsum.photos/200?1">
<img src="https://picsum.photos/200?2">
<img src="https://picsum.photos/200?3">
</div>
</div>

<div class="letter" id="letter">
<h3>ğŸ’Œ List</h3>
<p id="typedText"></p>
<button onclick="finishReading()">Zamknij</button>
</div>

<div id="adminBox">
<input id="adminPass" placeholder="hasÅ‚o..." style="padding:8px;border-radius:8px;border:none;">
<button onclick="unlockAdmin()">OK</button>
</div>

<audio id="music" src="muzyka.mp3"></audio>

</div>

<script>

const birthday=new Date(2026,1,22,0,0,0);
let offset=0;
let unlocked=false;
let confettiDone=false;

const isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

const fullText=`Wszystkiego najlepszego moja ksiÄ™Å¼niczko ğŸ’
Å»yczÄ™ Ci wszystkiego co najlepsze.
PamiÄ™taj Å¼e jesteÅ› najlepsza na Å›wiecie
i nie zmieniaj siÄ™ â€” bo ideaÅ‚u siÄ™ nie zmienia.
DziÄ™kujÄ™ Å¼e jesteÅ› â¤ï¸`;

let index=0;

async function syncTime(){
try{
const r=await fetch("https://worldtimeapi.org/api/ip");
const d=await r.json();
offset=new Date(d.datetime)-new Date();
}catch{}
}

function vibrate(p){if(navigator.vibrate)vibrate=navigator.vibrate(p);}

function updateCountdown(){

const now=new Date(new Date().getTime()+offset);
const diff=birthday-now;

if(diff<=0 && !unlocked){

unlocked=true;

document.getElementById("phone").classList.add("pulse");
document.getElementById("countdown").innerText="ğŸ‰ Wszystkiego najlepszego!";

const btn=document.getElementById("openBtn");
btn.disabled=false;
btn.innerText="ğŸ’Œ OtwÃ³rz list";

navigator.vibrate?.([120,40,120]);
startConfettiOnce();
fadeInMusic();

return;
}

if(diff>0){

const d=Math.floor(diff/(1000*60*60*24));
const h=Math.floor((diff/(1000*60*60))%24);
const m=Math.floor((diff/(1000*60))%60);
const s=Math.floor((diff/1000)%60);

document.getElementById("countdown").innerText=
d+"d "+h+"h "+m+"m "+s+"s";
}
}

setInterval(updateCountdown,1000);

function openLetter(){
document.getElementById("letter").classList.add("show");
navigator.vibrate?.(40);
typeWriter();
}

function typeWriter(){
if(index<fullText.length){
document.getElementById("typedText").innerHTML+=fullText.charAt(index);
index++;
setTimeout(typeWriter,25);
}
}

function finishReading(){
document.getElementById("letter").classList.remove("show");
document.getElementById("gallery").style.display="block";
navigator.vibrate?.([50,30,50]);
}

function fadeInMusic(){
const music=document.getElementById("music");
music.volume=0;
music.play().catch(()=>{});
let v=0;
const fade=setInterval(()=>{
if(v<1){v+=0.05;music.volume=v;}else clearInterval(fade);
},200);
}

const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
canvas.width=390;
canvas.height=844;

let pieces=[];

function startConfettiOnce(){

if(confettiDone)return;
confettiDone=true;

for(let i=0;i<160;i++){
pieces.push({x:Math.random()*390,y:-20,s:Math.random()*8+4,v:Math.random()*3+2});
}
animate();
}

function animate(){
ctx.clearRect(0,0,390,844);
pieces.forEach(p=>{p.y+=p.v;ctx.fillRect(p.x,p.y,p.s,p.s);});
requestAnimationFrame(animate);
}

// ğŸ–¥ï¸ ADMIN tylko komputer
if(!isMobile){

document.addEventListener("keydown",(e)=>{

if(e.ctrlKey && e.shiftKey && e.key==="A"){
document.getElementById("adminBox").style.display="block";
}

});

}

function unlockAdmin(){

const pass=document.getElementById("adminPass").value;

if(pass==="halo123"){

unlocked=true;

document.getElementById("phone").classList.add("pulse");
document.getElementById("countdown").innerText="ğŸ§ª TRYB TESTOWY";

const btn=document.getElementById("openBtn");
btn.disabled=false;
btn.innerText="ğŸ’Œ OtwÃ³rz list";

startConfettiOnce();
fadeInMusic();

document.getElementById("adminBox").style.display="none";

}else{
alert("âŒ zÅ‚e hasÅ‚o");
}

}

syncTime().then(updateCountdown);

</script>

</body>
</html>
