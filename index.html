<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>â¤ï¸</title>

<style>
body{
margin:0;
background:black;
color:white;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
overflow:hidden;
touch-action:pan-y;
}

.slide{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
text-align:center;
padding:30px;
opacity:0;
transform:scale(1.2);
transition:0.9s cubic-bezier(.22,1,.36,1);
}

.slide.active{
opacity:1;
transform:scale(1);
}

button{
padding:14px 22px;
border:none;
border-radius:16px;
font-size:16px;
margin-top:20px;
}

/* gwiazdy */
.star{
position:absolute;
width:3px;
height:3px;
background:white;
border-radius:50%;
opacity:.7;
transition:.3s;
}

/* fake loading */
.loader{
font-size:20px;
opacity:.7;
}

/* admin */
#admin{
position:fixed;
top:20px;
right:20px;
background:#111;
padding:14px;
border-radius:12px;
display:none;
}
</style>
</head>

<body>

<div id="stars"></div>

<!-- TIMER -->
<div class="slide active" id="slide0">
<h1 id="countdown">Åadowanie...</h1>
<button id="startBtn" disabled onclick="nextSlide()">WejdÅº â¤ï¸</button>
</div>

<!-- INTRO -->
<div class="slide" id="slide1">
<h1>Dla Ciebie â¤ï¸</h1>
</div>

<div class="slide" id="slide2">
<h2 id="daysKnown"></h2>
</div>

<div class="slide" id="slide3">
<h2>SpotkaliÅ›my siÄ™ dnia 29.12.2025<br>(od tego dnia jestem najszczÄ™Å›liwszy!!)</h2>
</div>

<div class="slide" id="slide4">
<h2>17.01.2026 â¤ï¸ WejÅ›cie w zwiÄ…zek</h2>
</div>

<div class="slide" id="slide5">
<h2>Zobaczymy jak potoczy siÄ™ dalejâ€¦</h2>
</div>

<div class="slide" id="slide6">
<div class="loader">ğŸ’” AnalizujÄ™ wspomnieniaâ€¦</div>
</div>

<div class="slide" id="slide7">
<h2>ğŸ’Œ Twoje Å¼yczenia tutaj</h2>
</div>

<div id="admin">
<button onclick="forceUnlock()">ğŸ”“ unlock</button>
<button onclick="nextSlide()">â­ skip</button>
</div>

<audio id="music" src="muzyka.mp3"></audio>

<script>
const birthday=new Date(2026,1,22,0,0,0);
let offset=0;
let unlocked=false;
let current=0;
let startX=0;

const isMobile=/iPhone|Android|iPad/i.test(navigator.userAgent);

/* ğŸŒ internet time */
async function syncTime(){
try{
const r=await fetch("https://worldtimeapi.org/api/ip");
const d=await r.json();
offset=new Date(d.datetime)-new Date();
}catch{}
}
const now=()=>new Date(new Date().getTime()+offset);

/* â³ timer */
function updateCountdown(){
const diff=birthday-now();

if(diff<=0 && !unlocked){
unlocked=true;
countdown.innerText="ğŸ‰ MoÅ¼esz wejÅ›Ä‡ â¤ï¸";
startBtn.disabled=false;
navigator.vibrate?.(30);
return;
}

if(diff>0){
const d=Math.floor(diff/(1000*60*60*24));
const h=Math.floor((diff/(1000*60*60))%24);
const m=Math.floor((diff/(1000*60))%60);
const s=Math.floor((diff/1000)%60);
countdown.innerText=`${d}d ${h}h ${m}m ${s}s`;
}
}
setInterval(updateCountdown,1000);

/* ğŸ¬ cinematic slide change */
function nextSlide(){
document.getElementById("slide"+current).classList.remove("active");
current++;
const next=document.getElementById("slide"+current);
if(next) next.classList.add("active");

navigator.vibrate?.(20);

if(current===1) startMusic();

if(current===2){
const start=new Date(2025,10,29);
const days=Math.floor((now()-start)/(1000*60*60*24));
daysKnown.innerText=`Znamy siÄ™ ${days} dni â¤ï¸`;
}

if(current===6){
setTimeout(nextSlide,3000);
}
}

/* ğŸ“± swipe */
document.addEventListener("touchstart",e=>{
startX=e.touches[0].clientX;
});

document.addEventListener("touchend",e=>{
let dx=e.changedTouches[0].clientX-startX;
if(dx<-60) nextSlide();
});

/* ğŸŒŒ gwiazdy */
const starBox=document.getElementById("stars");
for(let i=0;i<120;i++){
let s=document.createElement("div");
s.className="star";
s.style.left=Math.random()*100+"%";
s.style.top=Math.random()*100+"%";
starBox.appendChild(s);
}

document.addEventListener("touchmove",e=>{
document.querySelectorAll(".star").forEach(st=>{
let dx=st.offsetLeft-e.touches[0].clientX;
let dy=st.offsetTop-e.touches[0].clientY;
let dist=Math.sqrt(dx*dx+dy*dy);
if(dist<80) st.style.transform="scale(2)";
else st.style.transform="scale(1)";
});
});

/* ğŸµ music */
function startMusic(){
const m=document.getElementById("music");
m.volume=0;
m.play().catch(()=>{});
let v=0;
const i=setInterval(()=>{
if(v<1){v+=0.05;m.volume=v;}
else clearInterval(i);
},200);
}

/* ğŸ§  admin */
if(!isMobile){
document.addEventListener("keydown",(e)=>{
if(e.ctrlKey&&e.shiftKey&&e.key==="A"){
admin.style.display="block";
}
});
}

function forceUnlock(){
offset=birthday-new Date();
updateCountdown();
}

syncTime().then(updateCountdown);
</script>

</body>
</html>
